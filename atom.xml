<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>樹先森Leo的博客</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-02-25T07:07:40.770Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>樹先森Leo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>《Spring实战》学习笔记（一）装配Bean</title>
    <link href="http://yoursite.com/2017/02/25/spring-action01/"/>
    <id>http://yoursite.com/2017/02/25/spring-action01/</id>
    <published>2017-02-25T06:31:42.000Z</published>
    <updated>2017-02-25T07:07:40.770Z</updated>
    
    <content type="html"><![CDATA[<h1 id="自动转配Bean"><a href="#自动转配Bean" class="headerlink" title="自动转配Bean"></a>自动转配Bean</h1><h2 id="创建可被发现的Bean"><a href="#创建可被发现的Bean" class="headerlink" title="创建可被发现的Bean"></a>创建可被发现的Bean</h2><h3 id="代码结构："><a href="#代码结构：" class="headerlink" title="代码结构："></a>代码结构：</h3><p><img src="http://img.blog.csdn.net/20170203145759108?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2xvd19XYWtsZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="程序清单："><a href="#程序清单：" class="headerlink" title="程序清单："></a>程序清单：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">public interface CompactDisc &#123;</div><div class="line">    void play();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>PS：@Component表明组件类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.stereotype.Component;</div><div class="line"></div><div class="line">@Component</div><div class="line">public class SgtPeppers implements CompactDisc&#123;</div><div class="line"></div><div class="line">    private String title = &quot;Sgt.Pepper&apos;s Lonely Hearts Club Bands&quot;;</div><div class="line">    private String artist = &quot;The Beatles&quot;;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.println(&quot;Playing &quot;+title+&quot; by &quot;+artist);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>PS：@ComponentScan注解启用了组件扫描，如果没有其他配置的话，@ComponentScan默认会扫描与配置类相同的包以及它的子包。这里是基于Java的配置启用组件扫描<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.context.annotation.ComponentScan;</div><div class="line">import org.springframework.context.annotation.Configuration;</div><div class="line"></div><div class="line">@Configuration</div><div class="line">@ComponentScan</div><div class="line">public class CDPlayerConfig &#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>PS：@Autowired注解表明自动装配<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">import org.junit.Test;</div><div class="line">import org.junit.runner.RunWith;</div><div class="line">import org.springframework.beans.factory.annotation.Autowired;</div><div class="line">import org.springframework.test.context.ContextConfiguration;</div><div class="line">import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</div><div class="line">import soundsystem.CDPlayerConfig;</div><div class="line">import soundsystem.CompactDisc;</div><div class="line"></div><div class="line">import static org.junit.Assert.assertNotNull;</div><div class="line"></div><div class="line">@RunWith(SpringJUnit4ClassRunner.class)</div><div class="line">@ContextConfiguration(classes=CDPlayerConfig.class)</div><div class="line">public class CDPlayerTest &#123;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    private CompactDisc cd;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void cdShouldNotBeNull() &#123;</div><div class="line">        assertNotNull(cd);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170203150827268?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2xvd19XYWtsZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="通过XML启用组件扫描"><a href="#通过XML启用组件扫描" class="headerlink" title="通过XML启用组件扫描"></a>通过XML启用组件扫描</h3><h4 id="代码结构"><a href="#代码结构" class="headerlink" title="代码结构"></a>代码结构</h4><p><img src="http://img.blog.csdn.net/20170203153453062?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2xvd19XYWtsZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h4 id="程序清单"><a href="#程序清单" class="headerlink" title="程序清单"></a>程序清单</h4><p>PS：applicationContext.xml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</div><div class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</div><div class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;</div><div class="line">    &lt;!-- 启用组件扫描 --&gt;</div><div class="line">    &lt;context:component-scan base-package=&quot;soundsystem&quot;/&gt;</div><div class="line">&lt;/beans&gt;</div></pre></td></tr></table></figure>
<p>PS：一样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">public interface CompactDisc &#123;</div><div class="line">    void play();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>PS：一样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.stereotype.Component;</div><div class="line"></div><div class="line">@Component</div><div class="line">public class SgtPeppers implements CompactDisc&#123;</div><div class="line"></div><div class="line">    private String title = &quot;Sgt.Pepper&apos;s Lonely Hearts Club Bands&quot;;</div><div class="line">    private String artist = &quot;The Beatles&quot;;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.println(&quot;Playing &quot;+title+&quot; by &quot;+artist);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h4><p>PS：变为<br>@ContextConfiguration(locations = { “classpath*:/applicationContext.xml”})</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">import static org.junit.Assert.assertNotNull;</div><div class="line"></div><div class="line">@RunWith(SpringJUnit4ClassRunner.class)</div><div class="line">@ContextConfiguration(locations = &#123; &quot;classpath*:/applicationContext.xml&quot;&#125;)</div><div class="line">public class CDPlayerTest &#123;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    private CompactDisc cd;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void cdShouldNotBeNull() &#123;</div><div class="line">        assertNotNull(cd);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20170203153916611?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2xvd19XYWtsZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="为组件扫描的bean命名"><a href="#为组件扫描的bean命名" class="headerlink" title="为组件扫描的bean命名"></a>为组件扫描的bean命名</h2><p>（1）默认bean的ID为sgtPeppers</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">@Component</div><div class="line">public class SgtPeppers implements CompactDisc&#123;</div><div class="line"></div><div class="line">    private String title = &quot;Sgt.Pepper&apos;s Lonely Hearts Club Bands&quot;;</div><div class="line">    private String artist = &quot;The Beatles&quot;;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.println(&quot;Playing &quot;+title+&quot; by &quot;+artist);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>（2）bean的ID为Leo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">@Component(&quot;Leo&quot;)</div><div class="line">public class SgtPeppers implements CompactDisc&#123;</div><div class="line"></div><div class="line">    private String title = &quot;Sgt.Pepper&apos;s Lonely Hearts Club Bands&quot;;</div><div class="line">    private String artist = &quot;The Beatles&quot;;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.println(&quot;Playing &quot;+title+&quot; by &quot;+artist);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>（3）bean的ID为Leo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">@Named(&quot;Leo&quot;)</div><div class="line">public class SgtPeppers implements CompactDisc&#123;</div><div class="line"></div><div class="line">    private String title = &quot;Sgt.Pepper&apos;s Lonely Hearts Club Bands&quot;;</div><div class="line">    private String artist = &quot;The Beatles&quot;;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.println(&quot;Playing &quot;+title+&quot; by &quot;+artist);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="设置组件扫描的基础包"><a href="#设置组件扫描的基础包" class="headerlink" title="设置组件扫描的基础包"></a>设置组件扫描的基础包</h2><p>（1）扫描soundsystem</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@Configuration</div><div class="line">@ComponentScan(&quot;soundsystem&quot;)</div><div class="line">public class CDPlayerConfig &#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>（2）扫描soundsystem,video</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@Configuration</div><div class="line">@ComponentScan(basePackages=&#123;&quot;soundsystem&quot;,&quot;video&quot;&#125;)</div><div class="line">public class CDPlayerConfig &#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>（3）扫描CDPlayer类,DVDPlayer类所在的包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@Configuration</div><div class="line">@ComponentScan(basePackageClasses = &#123;CDPlayer.class,DVDPlayer.class&#125;)</div><div class="line">public class CDPlayerConfig &#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="通过为bean添加注解实现自动装配"><a href="#通过为bean添加注解实现自动装配" class="headerlink" title="通过为bean添加注解实现自动装配"></a>通过为bean添加注解实现自动装配</h2><h3 id="代码结构-1"><a href="#代码结构-1" class="headerlink" title="代码结构"></a>代码结构</h3><p><img src="http://img.blog.csdn.net/20170203182926642?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2xvd19XYWtsZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="程序清单-1"><a href="#程序清单-1" class="headerlink" title="程序清单"></a>程序清单</h3><p>PS：任何方法都可以实现自动装配</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.beans.factory.annotation.Autowired;</div><div class="line">import org.springframework.stereotype.Component;</div><div class="line"></div><div class="line">@Component</div><div class="line">public class CDPlayer implements MediaPlayer &#123;</div><div class="line">    private CompactDisc cd;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    public CDPlayer(CompactDisc cd) &#123;</div><div class="line">        this.cd = cd;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    public void setCompactDisc(CompactDisc cd) &#123;</div><div class="line">        this.cd = cd;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    public void insertDisc(CompactDisc cd) &#123;</div><div class="line">        this.cd = cd;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        cd.play();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>PS：Java配置组件扫描<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.context.annotation.ComponentScan;</div><div class="line">import org.springframework.context.annotation.Configuration;</div><div class="line"></div><div class="line">@Configuration</div><div class="line">@ComponentScan</div><div class="line">public class CDPlayerConfig &#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">public interface CompactDisc &#123;</div><div class="line">    void play();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">public interface MediaPlayer &#123;</div><div class="line">    public void play();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.stereotype.Component;</div><div class="line"></div><div class="line">/**</div><div class="line"> * Created by adc333 on 2017/2/3.</div><div class="line"> */</div><div class="line">@Component</div><div class="line">public class SgtPeppers implements CompactDisc&#123;</div><div class="line"></div><div class="line">    private String title = &quot;hello&quot;;</div><div class="line">    private String artist = &quot; world&quot;;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.print(title+artist);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="测试-2"><a href="#测试-2" class="headerlink" title="测试"></a>测试</h3><p>PS：控制台输出比较，这里简单输出hello world<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">import org.junit.Rule;</div><div class="line">import org.junit.Test;</div><div class="line">import org.junit.contrib.java.lang.system.StandardOutputStreamLog;</div><div class="line">import org.junit.runner.RunWith;</div><div class="line">import org.springframework.beans.factory.annotation.Autowired;</div><div class="line">import org.springframework.test.context.ContextConfiguration;</div><div class="line">import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</div><div class="line">import soundsystem.CDPlayerConfig;</div><div class="line">import soundsystem.CompactDisc;</div><div class="line">import soundsystem.MediaPlayer;</div><div class="line"></div><div class="line">import static org.junit.Assert.assertEquals;</div><div class="line">import static org.junit.Assert.assertNotNull;</div><div class="line"></div><div class="line"></div><div class="line">@RunWith(SpringJUnit4ClassRunner.class)</div><div class="line">@ContextConfiguration(classes = CDPlayerConfig.class)</div><div class="line">public class CDPlayerTest &#123;</div><div class="line"></div><div class="line">    @Rule</div><div class="line">    public final StandardOutputStreamLog log = new StandardOutputStreamLog();</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    private MediaPlayer player;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    private CompactDisc cd;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void cdShouldNotBeNull() &#123;</div><div class="line">        assertNotNull(cd);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void play() &#123;</div><div class="line">        player.play();</div><div class="line">        assertEquals(&quot;hello world&quot;,log.getLog());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170203183329738?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2xvd19XYWtsZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<h1 id="通过Java代码装配bean"><a href="#通过Java代码装配bean" class="headerlink" title="通过Java代码装配bean"></a>通过Java代码装配bean</h1><h2 id="创建配置类"><a href="#创建配置类" class="headerlink" title="创建配置类"></a>创建配置类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.context.annotation.Configuration;</div><div class="line"></div><div class="line">@Configuration</div><div class="line">public class CDPlayerConfig &#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="声明简单的bean"><a href="#声明简单的bean" class="headerlink" title="声明简单的bean"></a>声明简单的bean</h2><p>（1）默认bean的ID为sgtPeppers</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.context.annotation.Bean;</div><div class="line">import org.springframework.context.annotation.Configuration;</div><div class="line"></div><div class="line">@Configuration</div><div class="line">public class CDPlayerConfig &#123;</div><div class="line">    </div><div class="line">    @Bean</div><div class="line">    public CompactDisc sgtPeppers() &#123;</div><div class="line">        return new SgtPeppers();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>（2）bean的ID为Leo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.context.annotation.Bean;</div><div class="line">import org.springframework.context.annotation.Configuration;</div><div class="line"></div><div class="line">@Configuration</div><div class="line">public class CDPlayerConfig &#123;</div><div class="line">    </div><div class="line">    @Bean(name=&quot;Leo&quot;)</div><div class="line">    public CompactDisc sgtPeppers() &#123;</div><div class="line">        return new SgtPeppers();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="借助JavaConfig实现注入"><a href="#借助JavaConfig实现注入" class="headerlink" title="借助JavaConfig实现注入"></a>借助JavaConfig实现注入</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">ackage soundsystem;</div><div class="line"></div><div class="line">import org.springframework.context.annotation.Bean;</div><div class="line">import org.springframework.context.annotation.Configuration;</div><div class="line"></div><div class="line">@Configuration</div><div class="line">public class CDPlayerConfig &#123;</div><div class="line"></div><div class="line">    @Bean</div><div class="line">    public CompactDisc sgtPeppers() &#123;</div><div class="line">        return new SgtPeppers();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Bean</div><div class="line">    public CDPlayer cdPlayer(CompactDisc compactDisc) &#123;</div><div class="line">        return new CDPlayer(compactDisc);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="测试-3"><a href="#测试-3" class="headerlink" title="测试"></a>测试</h2><h3 id="代码结构-2"><a href="#代码结构-2" class="headerlink" title="代码结构"></a>代码结构</h3><h3 id="程序清单-2"><a href="#程序清单-2" class="headerlink" title="程序清单"></a>程序清单</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.beans.factory.annotation.Autowired;</div><div class="line"></div><div class="line">public class CDPlayer implements MediaPlayer &#123;</div><div class="line">    private CompactDisc cd;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    public CDPlayer(CompactDisc cd) &#123;</div><div class="line">        this.cd = cd;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    public void setCompactDisc(CompactDisc cd) &#123;</div><div class="line">        this.cd = cd;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    public void insertDisc(CompactDisc cd) &#123;</div><div class="line">        this.cd = cd;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        cd.play();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.context.annotation.Bean;</div><div class="line">import org.springframework.context.annotation.Configuration;</div><div class="line"></div><div class="line">@Configuration</div><div class="line">public class CDPlayerConfig &#123;</div><div class="line"></div><div class="line">    @Bean</div><div class="line">    public CompactDisc sgtPeppers() &#123;</div><div class="line">        return new SgtPeppers();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Bean</div><div class="line">    public CDPlayer cdPlayer(CompactDisc compactDisc) &#123;</div><div class="line">        return new CDPlayer(compactDisc);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">public interface CompactDisc &#123;</div><div class="line">    void play();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">public interface MediaPlayer &#123;</div><div class="line">    public void play();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">public class SgtPeppers implements CompactDisc&#123;</div><div class="line"></div><div class="line">    private String title = &quot;hello&quot;;</div><div class="line">    private String artist = &quot; world&quot;;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.print(title+artist);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="测试-4"><a href="#测试-4" class="headerlink" title="测试"></a>测试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">import org.junit.Rule;</div><div class="line">import org.junit.Test;</div><div class="line">import org.junit.contrib.java.lang.system.StandardOutputStreamLog;</div><div class="line">import org.junit.runner.RunWith;</div><div class="line">import org.springframework.beans.factory.annotation.Autowired;</div><div class="line">import org.springframework.test.context.ContextConfiguration;</div><div class="line">import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</div><div class="line">import soundsystem.CDPlayerConfig;</div><div class="line">import soundsystem.CompactDisc;</div><div class="line">import soundsystem.MediaPlayer;</div><div class="line"></div><div class="line">import static org.junit.Assert.assertEquals;</div><div class="line">import static org.junit.Assert.assertNotNull;</div><div class="line"></div><div class="line">@RunWith(SpringJUnit4ClassRunner.class)</div><div class="line">@ContextConfiguration(classes = CDPlayerConfig.class)</div><div class="line">public class CDPlayerTest &#123;</div><div class="line"></div><div class="line">    @Rule</div><div class="line">    public final StandardOutputStreamLog log = new StandardOutputStreamLog();</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    private MediaPlayer player;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    private CompactDisc cd;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void cdShouldNotBeNull() &#123;</div><div class="line">        assertNotNull(cd);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void play() &#123;</div><div class="line">        player.play();</div><div class="line">        assertEquals(&quot;hello world&quot;,log.getLog());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20170203210602936?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2xvd19XYWtsZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<h1 id="通过XML装配bean"><a href="#通过XML装配bean" class="headerlink" title="通过XML装配bean"></a>通过XML装配bean</h1><h2 id="声明一个简单的bean"><a href="#声明一个简单的bean" class="headerlink" title="声明一个简单的bean"></a>声明一个简单的bean</h2><p>（1）bean的ID为soundsystem.SgtPeppers#0，如果声明了另外一个SgtPeppers，同样没有明确标识，bean的ID为soundsystem.SgtPeppers#1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;bean class=&quot;soundsystem.SgtPeppers&quot;/&gt;</div></pre></td></tr></table></figure>
<p>（2）bean的ID为compactDisc</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;compactDisc&quot; class=&quot;soundsystem.SgtPeppers&quot;/&gt;</div></pre></td></tr></table></figure>
<h2 id="借助构造器注入初始化bean"><a href="#借助构造器注入初始化bean" class="headerlink" title="借助构造器注入初始化bean"></a>借助构造器注入初始化bean</h2><h3 id="构造器注入bean引用"><a href="#构造器注入bean引用" class="headerlink" title="构造器注入bean引用"></a>构造器注入bean引用</h3><p>（1）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;cdPlayer&quot; class=&quot;soundsystem.CDPlayer&quot;&gt;</div><div class="line">	&lt;constructor-arg ref=&quot;compactDisc&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure>
<p>（2）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;cdPlayer&quot; class=&quot;soundsystem.CDPlayer&quot; c:cd-ref=&quot;compactDisc&quot; /&gt;</div></pre></td></tr></table></figure>
<h3 id="将字面量注入到构造器中"><a href="#将字面量注入到构造器中" class="headerlink" title="将字面量注入到构造器中"></a>将字面量注入到构造器中</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">public class BlankDisc implements CompactDisc &#123;</div><div class="line">    private String title;</div><div class="line">    private String artist;</div><div class="line"></div><div class="line">    public BlankDisc(String title, String artist) &#123;</div><div class="line">        this.title = title;</div><div class="line">        this.artist = artist;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.println(&quot;Playing &quot;+title+&quot; by &quot;+artist);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>（1）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;compactDisc&quot; class=&quot;soundsystem.BlankDisc&quot;&gt;</div><div class="line">	&lt;constructor-arg value=&quot;hello&quot;/&gt;</div><div class="line">	&lt;constructor-arg value=&quot;world&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure></p>
<p>（2）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;compactDisc&quot; class=&quot;soundsystem.BlankDisc&quot;</div><div class="line">	c:_title=&quot;hello&quot;</div><div class="line">	c:_artist=&quot;world&quot; /&gt;</div></pre></td></tr></table></figure>
<h3 id="装配集合"><a href="#装配集合" class="headerlink" title="装配集合"></a>装配集合</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import java.util.List;</div><div class="line"></div><div class="line">/**</div><div class="line"> * Created by adc333 on 2017/2/3.</div><div class="line"> */</div><div class="line">public class BlankDisc implements CompactDisc &#123;</div><div class="line">    private String title;</div><div class="line">    private String artist;</div><div class="line">    private List&lt;String&gt; tracks;</div><div class="line"></div><div class="line">    public BlankDisc(String title, String artist, List&lt;String&gt; tracks) &#123;</div><div class="line">        this.title = title;</div><div class="line">        this.artist = artist;</div><div class="line">        this.tracks = tracks;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.println(&quot;Playing &quot;+title+&quot; by &quot;+artist);</div><div class="line">        for(String track : tracks) &#123;</div><div class="line">            System.out.println(&quot;-Track: &quot;+track);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;compactDisc&quot; class=&quot;soundsystem.BlankDisc&quot;&gt;</div><div class="line">	&lt;constructor-arg value=&quot;hello&quot;/&gt;</div><div class="line">	&lt;constructor-arg value=&quot;world&quot;/&gt;</div><div class="line">	&lt;constructor-arg&gt;</div><div class="line">		&lt;list&gt;</div><div class="line">			&lt;value&gt;11111&lt;/value&gt;</div><div class="line">			&lt;value&gt;22222&lt;/value&gt;</div><div class="line">			&lt;value&gt;33333&lt;/value&gt;</div><div class="line">			&lt;value&gt;44444&lt;/value&gt;</div><div class="line">			&lt;value&gt;55555&lt;/value&gt;</div><div class="line">		&lt;list&gt;</div><div class="line">	&lt;/constructor-arg&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure>
<h2 id="设置属性"><a href="#设置属性" class="headerlink" title="设置属性"></a>设置属性</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.beans.factory.annotation.Autowired;</div><div class="line"></div><div class="line">public class CDPlayer implements MediaPlayer &#123;</div><div class="line">    private CompactDisc cd;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    public void setCompactDisc(CompactDisc cd) &#123;</div><div class="line">        this.cd = cd;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public void play() &#123;</div><div class="line">        cd.play();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>（1）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;cdPlayer&quot; class=&quot;soundsystem.CDPlayer&quot;&gt;</div><div class="line">	&lt;property name=&quot;compactDisc&quot; ref=&quot;compactDisc&quot;/&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure></p>
<p>（2）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;cdPlayer&quot; class=&quot;soundsystem.CDPlayer&quot; p:compactDisc-ref=&quot;compactDisc&quot; /&gt;</div></pre></td></tr></table></figure>
<h3 id="将字面量注入到属性中"><a href="#将字面量注入到属性中" class="headerlink" title="将字面量注入到属性中"></a>将字面量注入到属性中</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import java.util.List;</div><div class="line"></div><div class="line">public class BlankDisc implements CompactDisc &#123;</div><div class="line">    private String title;</div><div class="line">    private String artist;</div><div class="line">    private List&lt;String&gt; tracks;</div><div class="line"></div><div class="line">    public void setTitle(String title) &#123;</div><div class="line">        this.title = title;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void setArtist(String artist) &#123;</div><div class="line">        this.artist = artist;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void setTracks(List&lt;String&gt; tracks) &#123;</div><div class="line">        this.tracks = tracks;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.println(&quot;Playing &quot;+title+&quot; by &quot;+artist);</div><div class="line">        for(String track : tracks) &#123;</div><div class="line">            System.out.println(&quot;-Track: &quot;+track);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>（1）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;compactDisc&quot; class=&quot;soundsystem.BlankDisc&quot;&gt;</div><div class="line">	&lt;property name=&quot;title&quot; value=&quot;hello&quot;/&gt;</div><div class="line">	&lt;property name=&quot;artist&quot; value=&quot;world&quot;/&gt;</div><div class="line">	&lt;property name=&quot;tracks&quot;&gt;</div><div class="line">		&lt;list&gt;</div><div class="line">			&lt;value&gt;11111&lt;/value&gt;</div><div class="line">			&lt;value&gt;22222&lt;/value&gt;</div><div class="line">			&lt;value&gt;33333&lt;/value&gt;</div><div class="line">			&lt;value&gt;44444&lt;/value&gt;</div><div class="line">			&lt;value&gt;55555&lt;/value&gt;</div><div class="line">		&lt;list&gt;</div><div class="line">	&lt;/property&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure></p>
<p>（2）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;bean id=&quot;compactDisc&quot; class=&quot;soundsystem.BlankDisc&quot; p:title=&quot;hello&quot; p:artist=&quot;world&quot;&gt;</div><div class="line">	&lt;property name=&quot;tracks&quot;&gt;</div><div class="line">		&lt;list&gt;</div><div class="line">			&lt;value&gt;11111&lt;/value&gt;</div><div class="line">			&lt;value&gt;22222&lt;/value&gt;</div><div class="line">			&lt;value&gt;33333&lt;/value&gt;</div><div class="line">			&lt;value&gt;44444&lt;/value&gt;</div><div class="line">			&lt;value&gt;55555&lt;/value&gt;</div><div class="line">		&lt;list&gt;</div><div class="line">	&lt;/property&gt;</div><div class="line">&lt;/bean&gt;</div></pre></td></tr></table></figure>
<h2 id="测试-5"><a href="#测试-5" class="headerlink" title="测试"></a>测试</h2><h3 id="代码结构-3"><a href="#代码结构-3" class="headerlink" title="代码结构"></a>代码结构</h3><p><img src="http://img.blog.csdn.net/20170204110547743?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2xvd19XYWtsZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="程序清单-3"><a href="#程序清单-3" class="headerlink" title="程序清单"></a>程序清单</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import java.util.List;</div><div class="line"></div><div class="line">public class BlankDisc implements CompactDisc &#123;</div><div class="line">    private String title;</div><div class="line">    private String artist;</div><div class="line">    private List&lt;String&gt; tracks;</div><div class="line"></div><div class="line">    public void setTitle(String title) &#123;</div><div class="line">        this.title = title;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void setArtist(String artist) &#123;</div><div class="line">        this.artist = artist;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void setTracks(List&lt;String&gt; tracks) &#123;</div><div class="line">        this.tracks = tracks;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        System.out.print(title+artist);</div><div class="line">        for(String track : tracks) &#123;</div><div class="line">            System.out.print(track);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">import org.springframework.beans.factory.annotation.Autowired;</div><div class="line">import org.springframework.stereotype.Component;</div><div class="line"></div><div class="line">public class CDPlayer implements MediaPlayer &#123;</div><div class="line">    private CompactDisc cd;</div><div class="line"></div><div class="line">    public CDPlayer(CompactDisc cd) &#123;</div><div class="line">        this.cd = cd;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void play() &#123;</div><div class="line">        cd.play();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">public interface CompactDisc &#123;</div><div class="line">    void play();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">package soundsystem;</div><div class="line"></div><div class="line">public interface MediaPlayer &#123;</div><div class="line">    public void play();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>applicationContext.xml：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</div><div class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</div><div class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;</div><div class="line">    &lt;!-- 设置属性注入bean --&gt;</div><div class="line">    &lt;bean id=&quot;compactDisc&quot; class=&quot;soundsystem.BlankDisc&quot;&gt;</div><div class="line">        &lt;property name=&quot;title&quot; value=&quot;hello&quot;/&gt;</div><div class="line">        &lt;property name=&quot;artist&quot; value=&quot;world&quot;/&gt;</div><div class="line">        &lt;property name=&quot;tracks&quot;&gt;</div><div class="line">            &lt;list&gt;</div><div class="line">                &lt;value&gt;11111&lt;/value&gt;</div><div class="line">                &lt;value&gt;22222&lt;/value&gt;</div><div class="line">                &lt;value&gt;33333&lt;/value&gt;</div><div class="line">                &lt;value&gt;44444&lt;/value&gt;</div><div class="line">                &lt;value&gt;55555&lt;/value&gt;</div><div class="line">            &lt;/list&gt;</div><div class="line">        &lt;/property&gt;</div><div class="line">    &lt;/bean&gt;</div><div class="line">    &lt;!-- 构造器注入bean --&gt;</div><div class="line">    &lt;bean id=&quot;cdPlayer&quot; class=&quot;soundsystem.CDPlayer&quot;&gt;</div><div class="line">        &lt;constructor-arg ref=&quot;compactDisc&quot;/&gt;</div><div class="line">    &lt;/bean&gt;</div><div class="line">&lt;/beans&gt;</div></pre></td></tr></table></figure>
<h3 id="测试-6"><a href="#测试-6" class="headerlink" title="测试"></a>测试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">import org.junit.Rule;</div><div class="line">import org.junit.Test;</div><div class="line">import org.junit.contrib.java.lang.system.StandardOutputStreamLog;</div><div class="line">import org.junit.runner.RunWith;</div><div class="line">import org.springframework.beans.factory.annotation.Autowired;</div><div class="line">import org.springframework.context.ApplicationContext;</div><div class="line">import org.springframework.test.context.ContextConfiguration;</div><div class="line">import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</div><div class="line">import soundsystem.*;</div><div class="line"></div><div class="line">import static org.junit.Assert.assertEquals;</div><div class="line"></div><div class="line">@RunWith(SpringJUnit4ClassRunner.class)</div><div class="line">@ContextConfiguration(locations = &#123; &quot;classpath*:/applicationContext.xml&quot;&#125;)</div><div class="line">public class CDPlayerTest &#123;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    private ApplicationContext context;</div><div class="line"></div><div class="line">    @Rule</div><div class="line">    public final StandardOutputStreamLog log = new StandardOutputStreamLog();</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void play() &#123;</div><div class="line">        CompactDisc compactDisc = (CompactDisc)context.getBean(BlankDisc.class);</div><div class="line">        MediaPlayer cdPlayer = (MediaPlayer)context.getBean(CDPlayer.class);</div><div class="line">        cdPlayer.play();</div><div class="line">        assertEquals(&quot;helloworld1111122222333334444455555&quot;,log.getLog());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20170204110656150?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2xvd19XYWtsZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;自动转配Bean&quot;&gt;&lt;a href=&quot;#自动转配Bean&quot; class=&quot;headerlink&quot; title=&quot;自动转配Bean&quot;&gt;&lt;/a&gt;自动转配Bean&lt;/h1&gt;&lt;h2 id=&quot;创建可被发现的Bean&quot;&gt;&lt;a href=&quot;#创建可被发现的Bean&quot; class
    
    </summary>
    
      <category term="Spring" scheme="http://yoursite.com/categories/Spring/"/>
    
      <category term="《Spring实战》学习笔记" scheme="http://yoursite.com/categories/Spring/%E3%80%8ASpring%E5%AE%9E%E6%88%98%E3%80%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Spring" scheme="http://yoursite.com/tags/Spring/"/>
    
      <category term="《Spring实战》学习笔记" scheme="http://yoursite.com/tags/%E3%80%8ASpring%E5%AE%9E%E6%88%98%E3%80%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>article title</title>
    <link href="http://yoursite.com/2017/02/25/article-title/"/>
    <id>http://yoursite.com/2017/02/25/article-title/</id>
    <published>2017-02-25T01:46:34.000Z</published>
    <updated>2017-02-25T01:49:12.026Z</updated>
    
    <content type="html"><![CDATA[<p>##zzqnxx, welcome to hexo!</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;##zzqnxx, welcome to hexo!&lt;/p&gt;

    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2017/02/25/hello-world/"/>
    <id>http://yoursite.com/2017/02/25/hello-world/</id>
    <published>2017-02-25T01:39:31.651Z</published>
    <updated>2017-02-25T01:39:31.656Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
  </entry>
  
</feed>
